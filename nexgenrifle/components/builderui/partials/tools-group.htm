<div class="card mb-4" data-group-name="tools-group">
    <div class="card-header" 
         data-bs-toggle="collapse" 
         data-bs-target="#toolsGroupBodyCollapse" 
         aria-expanded="true" 
         aria-controls="toolsGroupBodyCollapse">
        <h3 class="mb-0">Recommended Tools</h3>
        <div class="card-header-right-content">
            <div class="selected-build-items-preview">
                <img src="https://placehold.co/30x30?text=WR" alt="Armorer's Wrench Preview" class="selected-item-preview-img item-preview-selected" title="Armorer's Wrench">
                <img src="https://placehold.co/30x30?text=VB" alt="Vise Blocks Preview" class="selected-item-preview-img item-preview-missing" title="Vise Blocks">
                <img src="https://placehold.co/30x30?text=PS" alt="Pin Punch Set Preview" class="selected-item-preview-img item-preview-missing" title="Pin Punch Set">
            </div>
            <span class="badge bg-success current-group-price-badge">$75.95</span> <!-- Example: Price of first selected tool -->
        </div>
    </div>
    <div class="collapse show" id="toolsGroupBodyCollapse">
        <div class="card-body">
            <!-- Component Category: Armorer's Wrench -->
            <div class="component-category" id="category-wrench">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center">
                        <img src="https://placehold.co/100x100?text=WrenchMain" alt="Selected Armorer's Wrench" class="img-thumbnail me-3 category-preview-thumb" style="cursor: pointer;" data-bs-toggle="collapse" data-bs-target="#armorerWrenchCollapse" aria-expanded="true">
                        <div>
                            <h5 class="mb-1">Armorer's Wrench</h5>
                            <p class="mb-0 category-preview-description">Magpul Armorer's Wrench – AR15/M4</p>
                        </div>
                    </div>
                    <div>
                        <span class="badge bg-success category-preview-price">$75.95</span>
                    </div>
                </div>
                <div class="mt-3 collapse show" id="armorerWrenchCollapse">
                    <input class="form-control mb-2" placeholder="Paste product URL or select from catalog">
                    <ul class="nav nav-tabs catalog-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="selected-wrench-tab" data-bs-toggle="tab" data-bs-target="#selected-wrench-content" type="button" role="tab" aria-selected="true">Selected Item</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="magpul-wrench-tab" data-bs-toggle="tab" data-bs-target="#magpul-wrench-content" type="button" role="tab" aria-selected="false">Magpul</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="other-source-wrench-tab" data-bs-toggle="tab" data-bs-target="#other-source-wrench-content" type="button" role="tab" aria-selected="false">Other Source</button>
                        </li>
                    </ul>
                    <div class="tab-content catalog-content">
                        <div class="tab-pane fade show active" id="selected-wrench-content" role="tabpanel" aria-labelledby="selected-wrench-tab">
                            <div class="selected-item-details p-3">
                                <h5 class="selected-item-name">Magpul Armorer's Wrench – AR15/M4</h5>
                                <img src="https://placehold.co/600x400?text=Magpul+Wrench+Large" class="img-fluid rounded mb-2 selected-item-image" alt="Selected Magpul Wrench Image">
                                <p class="selected-item-description-full">Full description of the Magpul Armorer's Wrench.</p>
                                <p><strong>Price:</strong> <span class="selected-item-price-value">$75.95</span></p>
                                <p><strong>Status:</strong> <span class="selected-item-stock-status">In Stock</span></p>
                                <a href="https://magpul.com/armorer-s-wrench-ar15-m4.html" target="_blank" class="btn btn-primary selected-item-view-original">View Original Product Page</a>
                            </div>
                        </div>
                        <div class="tab-pane fade product-list-horizontal-scroll" id="magpul-wrench-content" role="tabpanel" aria-labelledby="magpul-wrench-tab">
                            <div class="product-item-card mt-3" 
                                 data-price-value="75.95" 
                                 data-category-thumb-src="https://placehold.co/100x100?text=WrenchMain" 
                                 data-category-description="Magpul Armorer's Wrench – AR15/M4"
                                 data-selected-image-src="https://placehold.co/600x400?text=Magpul+Wrench+Large"
                                 data-selected-name="Magpul Armorer's Wrench – AR15/M4"
                                 data-selected-description-full="Full description of the Magpul Armorer's Wrench."
                                 data-selected-price-value="$75.95"
                                 data-selected-stock-status="In Stock"
                                 data-selected-original-url="https://magpul.com/armorer-s-wrench-ar15-m4.html">
                                <div class="row g-0">
                                    <div class="col-4"><img src="https://placehold.co/300x200?text=Magpul+Wrench" class="img-fluid rounded-start h-100" style="object-fit: cover;" alt="Magpul Armorer's Wrench Product Image"></div>
                                    <div class="col-8">
                                        <div class="product-item-details-content d-flex flex-column h-100 p-2">
                                            <div class="d-flex">
                                                <div class="flex-grow-1 me-2 d-flex align-items-center"><h6 class="product-name mb-1">Magpul Armorer's Wrench – AR15/M4</h6></div>
                                                <div class="product-far-right-box text-end">
                                                    <div class="product-indicators mb-1">
                                                        <span class="badge bg-primary product-active-indicator">Active</span>
                                                        <span class="badge bg-info product-purchase-status ms-1">Not Purchased</span>
                                                    </div>
                                                    <p class="mb-0 product-price"><strong>Price:</strong> $75.95</p>
                                                    <p class="mb-0 product-stock-status"><strong>Status:</strong> In Stock</p>
                                                </div>
                                            </div>
                                            <div class="mt-auto pt-2"><a href="https://magpul.com/armorer-s-wrench-ar15-m4.html" target="_blank" class="btn btn-outline-success btn-sm product-view-button w-100">View Product</a></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="other-source-wrench-content" role="tabpanel" aria-labelledby="other-source-wrench-tab">
                            <p class="mt-3">Paste a URL above, or details from other sources will appear here once implemented.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Component Category: Vise Blocks -->
            <div class="component-category" id="category-vise-blocks">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center">
                        <img src="https://placehold.co/100x100?text=ViseBlock" alt="Vise Blocks Placeholder" class="img-thumbnail me-3 category-preview-thumb">
                        <div>
                            <h5 class="mb-1">Vise Blocks (Upper & Lower)</h5>
                            <p class="mb-0 category-preview-description">Secures components during build process. (No catalog selection for this item yet)</p>
                        </div>
                    </div>
                    <div>
                        <span class="badge bg-secondary category-preview-price">$0.00</span> <!-- Or a fixed price if applicable -->
                    </div>
                </div>
                <!-- No collapsible catalog section for Vise Blocks for now, as it's informational -->
            </div>

            <!-- Component Category: Pin Punch Set -->
            <div class="component-category" id="category-punchset">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center">
                        <img src="https://placehold.co/100x100?text=PunchSet" alt="Pin Punch Set Placeholder" class="img-thumbnail me-3 category-preview-thumb" style="cursor: pointer;" data-bs-toggle="collapse" data-bs-target="#pinPunchSetCollapse" aria-expanded="false">
                        <div>
                            <h5 class="mb-1">Pin Punch Set</h5>
                            <p class="mb-0 category-preview-description">Helps with clean pin installation/removal.</p>
                        </div>
                    </div>
                    <div>
                        <span class="badge bg-secondary category-preview-price">$0.00</span>
                    </div>
                </div>
                <div class="mt-3 collapse" id="pinPunchSetCollapse">
                    <input class="form-control mb-2" placeholder="Paste product URL or select from catalog">
                    <ul class="nav nav-tabs catalog-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="selected-punchset-tab" data-bs-toggle="tab" data-bs-target="#selected-punchset-content" type="button" role="tab" aria-selected="false">Selected Item</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="wheeler-punchset-tab" data-bs-toggle="tab" data-bs-target="#wheeler-punchset-content" type="button" role="tab" aria-selected="true">Wheeler</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="other-source-punchset-tab" data-bs-toggle="tab" data-bs-target="#other-source-punchset-content" type="button" role="tab" aria-selected="false">Other Source</button>
                        </li>
                    </ul>
                    <div class="tab-content catalog-content">
                        <div class="tab-pane fade" id="selected-punchset-content" role="tabpanel" aria-labelledby="selected-punchset-tab">
                            <div class="selected-item-details p-3"><p>No Pin Punch Set selected. Please choose one from the sources.</p></div>
                        </div>
                        <div class="tab-pane fade show active product-list-horizontal-scroll" id="wheeler-punchset-content" role="tabpanel" aria-labelledby="wheeler-punchset-tab">
                            <div class="product-item-card mt-3" 
                                 data-price-value="25.99" 
                                 data-category-thumb-src="https://placehold.co/100x100?text=PunchSetMain" 
                                 data-category-description="Wheeler Roll Pin Punch Set"
                                 data-selected-image-src="https://placehold.co/600x400?text=PunchSet+Large"
                                 data-selected-name="Wheeler Roll Pin Punch Set"
                                 data-selected-description-full="Full description of the Wheeler Roll Pin Punch Set."
                                 data-selected-price-value="$25.99"
                                 data-selected-stock-status="In Stock"
                                 data-selected-original-url="#">
                                <div class="row g-0">
                                    <div class="col-4"><img src="https://placehold.co/300x200?text=Example+Punch+Set" class="img-fluid rounded-start h-100" style="object-fit: cover;" alt="Example Pin Punch Set Product Image"></div>
                                    <div class="col-8">
                                        <div class="product-item-details-content d-flex flex-column h-100 p-2">
                                            <div class="d-flex">
                                                <div class="flex-grow-1 me-2 d-flex align-items-center"><h6 class="product-name mb-1">Wheeler Roll Pin Punch Set</h6></div>
                                                <div class="product-far-right-box text-end">
                                                    <div class="product-indicators mb-1"><span class="badge bg-info product-purchase-status ms-1">Not Purchased</span></div>
                                                    <p class="mb-0 product-price"><strong>Price:</strong> $25.99</p>
                                                    <p class="mb-0 product-stock-status"><strong>Status:</strong> In Stock</p>
                                                </div>
                                            </div>
                                            <div class="mt-auto pt-2"><a href="#" class="btn btn-outline-success btn-sm product-view-button w-100">View Product</a></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="other-source-punchset-content" role="tabpanel" aria-labelledby="other-source-punchset-tab">
                            <p class="mt-3">Paste a URL above, or details from other sources will appear here once implemented.</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>